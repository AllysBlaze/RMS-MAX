@model ArticlesListViewModel

<style>
    .carousel-item {
        height: 32rem;
        background-color: rgb(8, 8, 8);
        position: relative;
        background-position: center;
        background-size: cover;
        color: white;
    }

        .carousel-item .container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding-bottom: 50px;
            margin-bottom: 50px;
        }



    .overlay-image {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
        background-position: center;
        background-size: cover;
        opacity: 0.5;
    }

    .card {
        margin-top: 50px;
        margin-bottom: 40px;
    }

    .containerCard {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        top: 10px;
        padding: 10px;
    }


    .card {
        height: 18rem;
        background-color: white;
        position: relative;
        background-position: center;
        background-size: cover;
        color: black;
    }

</style>

    <div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>

        <div class="carousel-inner">
            @{ bool active = true; }
            @foreach (var v in Model.SliderPhotos)
            {
                if (active)
                {
                    <div class="carousel-item active">
                        <div class="overlay-image" style="background-image: url(pictures/picsSlider/@v) "></div>
                        <div class="container">
                        </div>
                    </div>
                    active = false;
                }
                else
                {
                    <div class="carousel-item">
                        <div class="overlay-image" style="background-image: url(pictures/picsSlider/@v) "></div>
                        <div class="container">
                        </div>
                    </div>
                }

            }
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

   
    <div id="articleHeader" class="mx-auto my-5" style="width: 200px;">
        <h1>Aktualności</h1>
    </div>
    <div id="hhh" class="container-fluid padding">
        <div class="row padding">
                
                @foreach (var v in Model.Articles)
                {
                    string picfile = "pictures/picsArticle/" + v.Id + "/" + v.PhotoCover;
                    string picfile2 = "pictures/picsArticle/" + v.PhotoCover;

                     <div class="col-lg-4">
                        <div class="card">
                            <div class="overlay-image" style="background-image: url('@picfile') "></div>
                            <div class="containerCard">
                                <h3>@v.Title</h3>
                                @{
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<strong.*?>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<u.*?>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<span.*?>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<i.*?>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "</strong>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "</u>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "</span>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "</i>", "");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<table.*?table>", " ");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "&nbsp;", "  ");
                                    v.Content = System.Text.RegularExpressions.Regex.Replace(v.Content, "<.*?>", " ");
                                    }
                                    @if (v.Content.Length > 280)
                                    {


                                        string newContent = v.Content.Substring(0, 280);
                                        string fullContent = string.Concat(newContent, "...");
                                        <p class="font-weight-bold">@fullContent</p>
                                    }
                                    else
                                    {

                                        <p>@v.Content</p>
                                    }
                                    <a class="btn btn-outline-dark" asp-controller="Home" asp-action="Article" asp-route-articleID="@v.Id">Zobacz więcej</a>
                            </div>
                        </div>
                    </div>
                }
        </div>
    </div>



           
    <div id="pages">
        <div class="row padding mx-auto">
            <div page-model="@Model.PagingInfo" page-action="Index" class="btn-group pull-right m-1">></div>
        </div>
    </div>


    


